(this.webpackJsonpcrudreact=this.webpackJsonpcrudreact||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(3),o=n.n(s),l=(n(14),n(5)),r=n(6),i=n(7),d=n(9),h=n(8),j=n(2),u=(n(15),n(16),n(0)),p=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={_id:"",nombre:"",puesto:"",departamento:"",salario:0,empleados:[]},j.b.configure(),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.obtenerEmpleados()}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(l.a)({},n,a))}},{key:"addEmpleado",value:function(e){var t=this,n="POST",a="http://localhost:3100/api/empleados",c="Empleado agregado correctamente";this.state._id&&(n="PUT",a+="/"+this.state._id,c="Empleado actualizado correctamente"),fetch(a,{method:n,body:JSON.stringify(this.state),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){Object(j.b)(c),console.log(e),t.setState({_id:"",nombre:"",puesto:"",departamento:"",salario:0}),t.obtenerEmpleados()})).catch((function(e){return console.log(e)})),e.preventDefault()}},{key:"obtenerEmpleados",value:function(){var e=this;fetch("http://localhost:3100/api/empleados").then((function(e){return e.json()})).then((function(t){return e.setState({empleados:t})})).catch((function(e){return console.log(e)}))}},{key:"updateEmpleado",value:function(e){var t=this;fetch("http://localhost:3100/api/empleados/"+e).then((function(e){return e.json()})).then((function(e){t.setState({_id:e._id,nombre:e.nombre,puesto:e.puesto,departamento:e.departamento,salario:e.salario})})).catch((function(e){return console.log(e)}))}},{key:"deleteEmpleado",value:function(e){var t=this;window.confirm("Desea eliminar este empleado?")&&fetch("http://localhost:3100/api/empleados/"+e,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),Object(j.b)("Empleado eliminado correctamente"),t.obtenerEmpleados()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("nav",{className:"deep-purple darken-3",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("a",{className:"brand-logo",href:"/",children:"Empleados"})})}),Object(u.jsx)(j.a,{}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col s5",children:Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("span",{className:"card-title",children:"Datos del Empleado"}),Object(u.jsxs)("form",{onSubmit:function(t){return e.addEmpleado(t)},children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"input-field col s12",children:[Object(u.jsx)("label",{htmlFor:"lnombre",children:"Nombre"}),Object(u.jsx)("input",{type:"text",id:"lnombre",name:"nombre",onChange:function(t){return e.handleChange(t)},placeholder:"Ingrese el nombre",value:this.state.nombre})]})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"input-field col s12",children:[Object(u.jsx)("label",{htmlFor:"lpuesto",children:"Puesto"}),Object(u.jsx)("input",{type:"text",id:"lpuesto",name:"puesto",onChange:function(t){return e.handleChange(t)},placeholder:"Ingrese el puesto",value:this.state.puesto})]})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"input-field col s12",children:[Object(u.jsx)("label",{htmlFor:"ldepartamento",children:"Departamento"}),Object(u.jsx)("input",{type:"text",id:"ldepartamento",name:"departamento",onChange:function(t){return e.handleChange(t)},placeholder:"Ingrese el departamento",value:this.state.departamento})]})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"input-field col s12",children:[Object(u.jsx)("label",{htmlFor:"lsalario",children:"Salario"}),Object(u.jsx)("input",{type:"number",id:"lsalario",name:"salario",onChange:function(t){return e.handleChange(t)},placeholder:"Ingrese el salario",value:this.state.salario})]})}),Object(u.jsx)("button",{type:"submit",className:"btn btn deep-purple darken-3",children:"Guardar"})]})]})})}),Object(u.jsx)("div",{className:"col s7",children:Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Nombre"}),Object(u.jsx)("th",{children:"Puesto"}),Object(u.jsx)("th",{children:"Departamento"}),Object(u.jsx)("th",{children:"Operaciones"})]})}),Object(u.jsx)("tbody",{children:this.state.empleados.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.nombre}),Object(u.jsx)("td",{children:t.puesto}),Object(u.jsx)("td",{children:t.departamento}),Object(u.jsx)("td",{children:t.salario}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"btn deep-purple darken-3",onClick:function(){return e.updateEmpleado(t._id)},children:Object(u.jsx)("i",{className:"material-icons",children:"update"})}),Object(u.jsx)("button",{className:"btn red darken-4",onClick:function(){return e.deleteEmpleado(t._id)},children:Object(u.jsx)("i",{className:"material-icons",children:"delete"})})]})]},t._id)}))})]})})]})})]})}}]),n}(a.Component),m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),s(e),o(e)}))};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root")),m()}},[[18,1,2]]]);
//# sourceMappingURL=main.24706849.chunk.js.map